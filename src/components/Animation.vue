  
  <script>

  export default {
    
    data() {
      return {
        pathLength: 0, // Variable pour stocker la longueur totale du chemin SVG
        pathData:  "M9.99992 121.5C7.99992 119.833 3.59992 115 1.99992 109C0.399924 103 1.66659 97.1666 2.49992 95C3.16662 93.5 4.9 90.3 6.5 89.5C8.1 88.7 10.8333 89.1666 12 89.5C12.6667 89.8333 14.2 90.9 15 92.5C16 94.5 13 106 13 106.5C13 107 11.5 113 12 119C12.5 125 7.5 115.5 7.5 112.5C7.5 109.5 8.11364 90.5 8 102.5C7.90909 112.1 11.2955 120.833 13 124C15.3333 127.167 21 134.2 25 137C30 140.5 38 145.5 40 146.5C42 147.5 56 153.5 58.5 154C61 154.5 67.5 155.5 68 155C68.5 154.5 68 142.5 62.5 136C57 129.5 52 129.5 53 137C54 144.5 63 154 64.5 153.5C66 153 53 132.5 59 141.5C65 150.5 66 155 70.5 156C74.1 156.8 83.3333 157 87.5 157C94.5 157 109.2 157 112 157C114.8 157 120.833 156 123.5 155.5C120.167 159.833 113.2 169 112 171C110.5 173.5 106.5 180 102.5 172.5C98.5 165 118 153 117.5 155.5C117 158 103.5 174.5 106.5 171.5C109.5 168.5 115 155 124.5 154C132.1 153.2 155.667 141.667 166.5 136C167.833 135.333 171.2 132.9 174 128.5C177.5 123 174.5 128.5 168 127C162.8 125.8 158.833 124.5 157.5 124C156.667 123.667 154 122.7 150 121.5C146 120.3 140.667 121.333 138.5 122C136.5 122.667 133.2 124.8 136 128C138.8 131.2 143.5 133.333 145.5 134C148.333 134.833 155.4 136 161 134C166.6 132 170.333 130.5 171.5 130C164.833 130.667 150.5 131.3 146.5 128.5C141.5 125 140 128.5 150.5 129C161 129.5 165.5 130.5 175 129C182.6 127.8 209.833 102.5 222.5 90C224.5 87.8333 227.7 84.5 224.5 88.5C221.3 92.5 216.833 104.5 215 110C214.333 113.167 213.4 120.9 215 126.5C216.6 132.1 220.667 128.833 222.5 126.5C223.167 125.833 225 122.9 227 116.5C229 110.1 227.167 94.8333 226 87.9999C226 86.1666 225.5 84.3999 223.5 91.9999C221 101.5 217.5 135 219.5 118C221.1 104.4 224.833 91.3333 226.5 86.5C226.5 86.3333 226.8 85.8 228 85C229.5 84 228.5 84.5 241.5 75C254.5 65.5 277 53 264.5 60.5C254.5 66.5 240.667 68.6666 235 69C232.833 69.3333 227.2 68.7 222 63.5C216.8 58.3 222.167 55.3333 225.5 54.5C226.333 54.1666 229.7 53.5 236.5 53.5C243.3 53.5 257.667 56.8333 264 58.5C266.833 58.8333 269.9 59.8 259.5 61C246.5 62.5 221.5 60.5 233.5 61.5C245.5 62.5 258.5 62.5 260 62C261.2 61.6 267.5 57.8333 270.5 56C272.5 54.8333 278.5 51.7 286.5 48.5C296.5 44.5 325.5 36.5 320 39.5C315.6 41.9 305.833 51.8333 301.5 56.5C300 58.5 297.5 63.4 299.5 67C302 71.5 309 73.5 314 64C319 54.5 320.5 41.5 320 41C319.5 40.5 303.5 61.5 306.5 63.5C309.5 65.5 311.5 42.5 322 38.5C332.5 34.5 375.5 35 377.5 36.5C379.5 38 352.5 33 347.5 24.5C342.5 16 345 4.49997 358.5 12.5C369.3 18.9 375 29.8333 376.5 34.5C373.5 35 365.3 32.9 356.5 20.5C345.5 4.99998 364.461 33.5 370.73 34.5C375.746 35.3 378 35.5 378.5 35.5C387.833 37.3333 411.3 44.5 430.5 58.5C454.5 76 479.5 125 465 145C450.5 165 431 165.5 411.5 145C392 124.5 411.5 74.5 433 56.5C450.2 42.1 463.833 34.5 468.5 32.5C476 29.3333 494.9 22.8 510.5 22C526.1 21.2 541.333 21.6666 547 22C538.667 17.1666 521.3 7.09998 518.5 5.49998C515 3.49998 498.5 -3.00002 497.5 8.49998C496.7 17.7 519.5 21.3333 531 22C537.5 22.3333 548.3 22.6 539.5 21C530.7 19.4 514.5 12.3333 507.5 8.99998L548 22C554 22.5 568 24.1 576 26.5C584 28.9 595.667 34.1667 600.5 36.5C597.5 35.3333 589.2 32.8 580 32C570.8 31.2 562.167 32.6667 559 33.5C551.5 35.6667 539.6 41.8 552 49C564.4 56.2 587.167 43.3333 597 36C589.667 35.1667 571 35.4 555 43C535 52.5 585 30 598.5 34.5C609.3 38.1 631 56.3333 640.5 65C641.5 59 642.9 45 640.5 37C638.1 29 632.833 23.6667 630.5 22C627.5 19.8333 621.8 19.3 623 34.5C624.2 49.7 634.5 59.8333 639.5 63L630.5 30.5L638 60.5L641.5 65.5C644.167 68.8333 649.8 75.9 651 77.5C652.5 79.5 657.5 85 662 95C665.6 103 666.833 107.333 667 108.5C665.167 104.333 658.7 94.3 647.5 87.5C633.5 79 614 87 634.5 98C650.9 106.8 663.333 108 667.5 107.5C663.167 103.833 651.7 95.7 640.5 92.5C629.3 89.3 639.5 92.8333 646 95C650.667 96.1667 661.5 100.6 667.5 109C673.5 117.4 675.333 144.5 675.5 157C674.833 146.667 675.2 122.9 682 110.5C688.8 98.1 702.5 88.3333 708.5 85C713.833 82.1667 724.3 79.7 723.5 92.5C722.7 105.3 697.167 108.833 684.5 109C688 104.5 697.7 94.9 708.5 92.5C722 89.5 682 102 682 107.5C682 111.9 684 106.667 685 103.5C688.167 95.8333 697.4 77.8 709 67C723.5 53.5 732 28.5 726 23C721.2 18.6 715.667 23.8333 713.5 27C711.333 29.3333 707.4 37.4 709 51C710.6 64.6 711.333 65 711.5 63.5C712.833 54.6667 716.3 35.6 719.5 30C723.5 23 705 69 713 62C721 55 725.5 50 743.5 39.5C757.9 31.1 780.5 31.6667 790 33C795.333 34 805.4 38.2 803 47C800.6 55.8 780 49.3333 770 45C764.167 41.5 752 34.7 750 35.5C747.5 36.5 781 34.1533 791 42C801 49.8467 772 28.5 751 37C734.2 43.8 751.667 35.5 762.5 30.5C766 29 774 25.8 778 25C783 24 784 23 806.5 21C829 19 835.5 22 847 15.5C858.5 8.99998 853.5 -5.50002 834 4.49998C818.4 12.5 809.833 18.1667 807.5 20C814.667 19.3333 831.3 16.4 840.5 10C852 2 827.5 18.0865 817.5 19.5C809.5 20.6308 824.167 20.9711 832.5 21C851.833 22 896.2 30.9 919 58.5C947.5 93 950.5 121 940.5 143C930.5 165 895 168 883 140C871 112 899.5 71 921 57.5C938.2 46.7 963.833 39 974.5 36.5C981.167 35.3333 996.3 31 1003.5 23C1012.5 13 1000.5 2 990.5 11C982.5 18.2 975.5 30.3333 973 35.5C976.333 34.6667 985.8 30 997 18C1008.2 6 985.667 26 973 37.5C976 36 986.1 33.3 1002.5 34.5C1018.9 35.7 1029.67 39 1033 40.5C1037.5 43.1667 1047.4 51.5 1051 63.5C1055.5 78.5 1039.5 73.5 1035.5 66C1032.3 60 1030.5 46.5 1030 40.5C1034.17 44.5 1042.6 54.1 1043 60.5C1043.5 68.5 1037.5 39 1030.5 39C1023.5 39 1044 41.5 1058.5 46.5C1070.1 50.5 1084 58.8333 1089.5 62.5C1098.17 66.1667 1117.4 72.2 1125 67C1134.5 60.5 1131.5 54 1121.5 54C1111.5 54 1084.5 58 1083.5 59.5C1082.5 61 1110 64.5 1119.5 61C1129 57.5 1098 66.5 1086 61.5C1074 56.5 1098 66 1109 74C1117.8 80.4 1125 87.6667 1127.5 90.5C1131.17 97.1667 1138.1 112.8 1136.5 122C1134.5 133.5 1127 130 1122.5 120C1118.9 112 1122.33 95.3333 1124.5 88C1126.83 94.1667 1131.3 109.3 1130.5 120.5C1129.5 134.5 1131 93.5 1125.5 89C1121.1 85.4 1129.33 92.1667 1134 96C1137.83 99.5 1146.3 107.2 1149.5 110C1152.7 112.8 1166.83 123.833 1173.5 129C1181 131.833 1198.1 136.7 1206.5 133.5C1217 129.5 1219 120 1203.5 120.5C1188 121 1180.5 131.5 1171.5 126.5C1164.3 122.5 1172.5 126.833 1177.5 129.5C1183.67 130.167 1197.8 130.7 1205 127.5C1214 123.5 1176 134 1173.5 128C1171.5 123.2 1175 128.333 1177 131.5C1181 134.667 1191.3 142 1200.5 146C1209.7 150 1222.67 153.333 1228 154.5C1235 156.333 1248.9 161.7 1248.5 168.5C1248 177 1241 175 1238.5 173C1236 171 1234.5 156 1229.5 154C1224.5 152 1242 160 1243 168.5C1244 177 1239 154 1230.5 156C1223.7 157.6 1246.33 158.667 1258.5 159C1262.83 159.167 1273.3 159 1280.5 157C1289.5 154.5 1298.5 142.5 1298.5 135.5C1298.5 128.5 1291.5 126.5 1287 132.5C1282.5 138.5 1282 155.5 1280 158C1278 160.5 1294.5 141.5 1293 137.5C1291.5 133.5 1286.5 157.5 1279.5 156.5C1273.9 155.7 1281.17 156.167 1285.5 156.5C1291.67 155.833 1307.3 152 1320.5 142C1333.7 132 1338 125.167 1338.5 123C1338.83 117.5 1338.5 104.8 1334.5 98C1329.5 89.5 1342.5 81 1348 93C1353.5 105 1344 119.5 1340 122C1336 124.5 1344.5 118 1341 95",
      };
    },
    
    mounted() {
      this.calculatePathLength(); // Calcule la longueur totale du chemin SVG
      window.addEventListener("scroll", this.handleScroll); // Ajoute un écouteur d'événements de défilement
    },
    
    methods: {
      calculatePathLength() {
        // Fonction pour calculer la longueur totale du chemin SVG
        const path = this.$refs.path;
        this.pathLength = path.getTotalLength();
      },
      
      handleScroll() {
        // Fonction appelée lors du défilement de la page
        const scrollContainer = this.$refs.scrollContainer;
        const scrollContainerTop = scrollContainer.getBoundingClientRect().top;
        const windowHeight = window.innerHeight;
  
        // Vérifie si la div est visible dans la fenêtre et défile à travers les 200 pixels de sa hauteur
        if (scrollContainerTop < windowHeight && scrollContainerTop + 200 > 0) {
          let scrollPercentage = (windowHeight - scrollContainerTop) / (windowHeight + 200) *2;
          scrollPercentage = Math.min(scrollPercentage, 1);
          const drawLength = this.pathLength * scrollPercentage;
          this.$refs.path.style.strokeDashoffset = this.pathLength - drawLength;
        }
      },
    },
  };
  </script>
  
  <template>
      <div class="scroll-container mt-4 px-6 lg:w-1/2 sm:w-2/3 sm:mx-auto text-center " ref="scrollContainer">
        <svg 
          class="svg-animation"
          viewBox="0 0 1351 177"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          preserveAspectRatio="xMinYMid slice"
        >
          <path 
            ref="path" 
            class="path-animation" 
            :d="pathData" 
            stroke="#e11d48"
            stroke-width="2" 
            fill="none"
            :style="{ strokeDasharray: pathLength , strokeDashoffset: pathLength }"
            
          />
        </svg>
      </div>
    </template>